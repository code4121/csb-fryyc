{"version":3,"sources":["FormData.js","components/TreeNode.js","components/Tree.js","TreeData.js","App.js","index.js"],"names":["contactFieldGroup","component","label","uid","uuidv4","fields","type","getNodeLabel","node","last","path","split","TreeNode","props","getChildNodes","level","onToggle","onNodeSelect","onChange","style","display","onClick","isOpen","marginright","TextField","required","e","target","value","role","map","childNode","data","useState","nodes","setNodes","useEffect","currentNodes","console","log","JSON","stringify","children","values","filter","isRoot","App","className","Tree","TreeData","rootElement","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.c26f25c0.chunk.js","sourcesContent":["import { v4 as uuidv4 } from \"uuid\";\n\nconst contactFieldGroup = [\n  {\n    component: \"field_group\",\n    label: \"Contact\",\n    uid: uuidv4(),\n    fields: [\n      {\n        component: \"text\",\n        label: \"First Name\",\n        uid: uuidv4(),\n        type: \"text\"\n      },\n      {\n        component: \"text\",\n        label: \"Last Name\",\n        uid: uuidv4(),\n        type: \"text\"\n      },\n      {\n        component: \"text\",\n        label: \"Business Name\",\n        uid: uuidv4(),\n        type: \"text\"\n      }\n    ]\n  }\n];\n\nconst formData = [\n  {\n    component: \"page\",\n    label: \"Contact Page\",\n    uid: uuidv4(),\n    fields: [\n      {\n        component: \"add_field_group\",\n        label: \"Add Field Group\",\n        uid: uuidv4(),\n        fields: contactFieldGroup\n      }\n    ]\n  }\n];\n\nexport default formData;\n","import React from \"react\";\nimport last from \"lodash/last\";\nimport {\n  FaChevronDown,\n  FaChevronRight,\n  FaKey,\n  FaFolderOpen,\n  FaFolder\n} from \"react-icons/fa\";\n\nimport TextField from \"@material-ui/core/TextField\";\n\nconst getNodeLabel = (node) => last(node?.path.split(\"/\"));\n\nconst TreeNode = (props) => {\n  const {\n    node,\n    getChildNodes,\n    level = 0,\n    onToggle,\n    onNodeSelect,\n    onChange\n  } = props;\n  return (\n    <>\n      <div style={{ display: \"flex\" }} level={level} type={node?.type}>\n        <div onClick={() => onToggle(node)}>\n          {node?.type === \"container\" &&\n            (node?.isOpen ? <FaChevronDown /> : <FaChevronRight />)}\n        </div>\n        <div marginright={10 * level}>\n          {node?.type === \"text\" && (\n            <TextField\n              required\n              label={node?.label}\n              onChange={(e) => onChange(node, e.target.value)}\n            />\n          )}\n          {node?.type === \"container\" && node?.isOpen === true && (\n            <FaFolderOpen />\n          )}\n          {node?.type === \"container\" && !node?.isOpen && <FaFolder />}\n        </div>\n\n        <span role=\"button\" onClick={() => onNodeSelect(node)}>\n          {getNodeLabel(node)}\n        </span>\n      </div>\n\n      {node?.isOpen &&\n        getChildNodes(node).map((childNode) => (\n          <TreeNode\n            key={childNode?.path}\n            {...props}\n            node={childNode}\n            level={level + 1}\n            onToggle={onToggle}\n            onNodeSelect={onNodeSelect}\n            onChange={onChange}\n          />\n        ))}\n    </>\n  );\n};\n\nexport default TreeNode;\n","import React, { useEffect } from \"react\";\nimport { concat, values } from \"lodash\";\nimport { useState } from \"react\";\n\nimport TreeNode from \"./TreeNode\";\n\nexport default ({ data }) => {\n  const [nodes, setNodes] = useState({});\n\n  useEffect(() => {\n    setNodes((currentNodes) => ({\n      ...currentNodes,\n      ...data\n    }));\n  }, [data]);\n\n  const getRootNodes = () => {\n    return values(nodes).filter((node) => node.isRoot === true);\n  };\n\n  const getChildNodes = (node) => {\n    console.log(\"Get Child Nodes : \", JSON.stringify(node?.children, null, 2));\n    if (!node?.children) return [];\n    return node?.children.map((path) => nodes[path]);\n  };\n\n  const onChange = (node, value) => {\n    console.log(\"Changed Node Value: \" + node.value, value);\n    setNodes((currentNodes) => ({\n      ...currentNodes,\n      [node[\"path\"]]: { ...currentNodes[node.path], value: value }\n    }));\n  };\n\n  const onToggle = (node) => {\n    console.log(\"Toggling Node: \", JSON.stringify(node, null, 2));\n\n    setNodes((currentNodes) => ({\n      ...currentNodes,\n      [node[\"path\"]]: { ...currentNodes[node.path], isOpen: !node?.isOpen }\n    }));\n    console.log(\"Toggled Node: \", JSON.stringify(nodes[node.path], null, 2));\n  };\n\n  return (\n    <div>\n      {getRootNodes().map((node) => (\n        <TreeNode\n          key={node?.path}\n          node={node}\n          getChildNodes={getChildNodes}\n          onToggle={onToggle}\n          onChange={onChange}\n          onNodeSelect={() =>\n            console.log(\"Selected : \", JSON.stringify(node, null, 2))\n          }\n        />\n      ))}\n      <button\n        onClick={(e) => {\n          console.log(JSON.stringify(nodes, null, 2));\n        }}\n      >\n        Dump Data{\" \"}\n      </button>\n    </div>\n  );\n};\n","const data = {\n  \"/root\": {\n    path: \"/root\",\n    type: \"container\",\n    isRoot: true,\n    children: [\n      \"/root/customer\",\n      \"/root/equipment\",\n      \"/root/loans\",\n      \"/root/lease\"\n    ]\n  },\n  \"/root/customer\": {\n    path: \"/root/customer\",\n    type: \"container\",\n    children: [\"/root/customer/firstname\", \"/root/customer/lastname\"]\n  },\n  \"/root/customer/firstname\": {\n    path: \"/root/customer/firstname\",\n    type: \"text\",\n    component: \"TextField\",\n    label: \"First Name\",\n    value: \"\"\n  },\n  \"/root/customer/lastname\": {\n    path: \"/root/customer/lastname\",\n    type: \"text\",\n    component: \"TextField\",\n    label: \"Last Name\",\n    value: \"\"\n  },\n  \"/root/equipment\": {\n    path: \"/root/equipment\",\n    type: \"container\",\n    children: [\"/root/equipment/0\"]\n  },\n  \"/root/equipment/0\": {\n    path: \"/root/equipment/0\",\n    type: \"container\",\n    children: [\n      \"/root/equipment/0/vin\",\n      \"/root/equipment/0/year\",\n      \"/root/equipment/0/make\",\n      \"/root/equipment/0/model\"\n    ]\n  },\n  \"/root/equipment/0/vin\": {\n    path: \"/root/equipment/0/vin\",\n    type: \"text\",\n    component: \"TextField\",\n    label: \"VIN\",\n    value: \"\"\n  },\n  \"/root/equipment/0/year\": {\n    path: \"/root/equipment/0/year\",\n    type: \"text\",\n    component: \"TextField\",\n    label: \"Year\",\n    value: \"\"\n  },\n  \"/root/equipment/0/make\": {\n    path: \"/root/equipment/0/make\",\n    type: \"text\",\n    component: \"TextField\",\n    label: \"Make\",\n    value: \"\"\n  },\n  \"/root/equipment/0/model\": {\n    path: \"/root/equipment/0/model\",\n    type: \"text\",\n    component: \"TextField\",\n    label: \"Model\",\n    value: \"\"\n  },\n  \"/root/loans\": {\n    path: \"/root/loans\",\n    type: \"container\",\n    children: [\"/root/loans/0\"]\n  },\n  \"/root/loans/0\": {\n    path: \"/root/loans/0\",\n    type: \"container\",\n    children: [\n      \"/root/loans/0/amount\",\n      \"/root/loans/0/rate\",\n      \"/root/loans/0/first_payment_date\",\n      \"/root/loans/0/residual\",\n      \"/root/loans/0/down_payment\",\n      \"/root/loans/0/period\"\n    ]\n  },\n  \"/root/loans/0/amount\": {\n    path: \"/root/loans/0/amount\",\n    type: \"text\",\n    component: \"TextField\",\n    label: \"Amount\",\n    value: \"\"\n  },\n  \"/root/loans/0/rate\": {\n    path: \"/root/loans/0/rate\",\n    type: \"text\",\n    component: \"TextField\",\n    label: \"Interest Rate\",\n    value: \"\"\n  },\n  \"/root/loans/0/period\": {\n    path: \"/root/loans/0/period\",\n    type: \"text\",\n    component: \"TextField\",\n    label: \"Period (in months)\",\n    value: \"\"\n  },\n  \"/root/loans/0/down_payment\": {\n    path: \"/root/loans/0/down_payment\",\n    type: \"text\",\n    component: \"TextField\",\n    label: \"Down Payment\",\n    value: \"\"\n  },\n  \"/root/loans/0/first_payment_date\": {\n    path: \"/root/loans/0/first_payment_date\",\n    type: \"text\",\n    component: \"TextField\",\n    label: \"Date of First Payment\",\n    value: \"\"\n  },\n  \"/root/loans/0/residual\": {\n    path: \"/root/loans/0/residual\",\n    type: \"text\",\n    component: \"TextField\",\n    label: \"Remaining Funds\",\n    value: \"\"\n  },\n  \"/root/lease\": {\n    path: \"/root/lease\",\n    type: \"container\",\n    children: [\"/root/lease/0\"]\n  },\n  \"/root/lease/0\": {\n    path: \"/root/lease/0\",\n    type: \"container\",\n    children: [\n      \"/root/lease/0/amount\",\n      \"/root/lease/0/rate\",\n      \"/root/lease/0/first_payment_date\",\n      \"/root/lease/0/residual\",\n      \"/root/lease/0/down_payment\",\n      \"/root/lease/0/period\",\n      \"/root/lease/0/termination_date\"\n    ]\n  },\n  \"/root/lease/0/amount\": {\n    path: \"/root/lease/0/amount\",\n    type: \"text\",\n    component: \"TextField\",\n    label: \"Amount\",\n    value: \"\"\n  },\n  \"/root/lease/0/rate\": {\n    path: \"/root/lease/0/rate\",\n    type: \"text\",\n    component: \"TextField\",\n    label: \"Interest Rate\",\n    value: \"\"\n  },\n  \"/root/lease/0/down_payment\": {\n    path: \"/root/lease/0/down_payment\",\n    type: \"text\",\n    component: \"TextField\",\n    label: \"Down Payment\",\n    value: \"\"\n  },\n  \"/root/lease/0/period\": {\n    path: \"/root/lease/0/period\",\n    type: \"text\",\n    component: \"TextField\",\n    label: \"Period\",\n    value: \"\"\n  },\n  \"/root/lease/0/residual\": {\n    path: \"/root/lease/0/residual\",\n    type: \"text\",\n    component: \"TextField\",\n    label: \"Residual\",\n    value: \"\"\n  },\n  \"/root/lease/0/first_payment_date\": {\n    path: \"/root/lease/0/first_payment_date\",\n    type: \"text\",\n    component: \"TextField\",\n    label: \"Date of First Payment\",\n    value: \"\"\n  },\n  \"/root/lease/0/termination_date\": {\n    path: \"/root/lease/0/termination_date\",\n    type: \"text\",\n    component: \"TextField\",\n    label: \"Termination Date\",\n    value: \"\"\n  }\n};\n\nexport default data;\n","import \"./styles.css\";\nimport FormData from \"./FormData\";\nimport Form from \"./components/Form\";\nimport Tree from \"./components/Tree\";\nimport TreeData from \"./TreeData\";\nexport default function App() {\n  return (\n    <div className=\"App\">\n      <h1>Hello CodeSandbox</h1>\n      <h2>Start editing to see some magic happen!</h2>\n      {/* <Form formData={FormData} /> */}\n      <Tree data={TreeData} />\n    </div>\n  );\n}\n","import { StrictMode } from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}